<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surface Color Test</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root {
            --theme-bg-body: #ffffff;
            --theme-bg-card: #ffffff;
            --theme-bg-surface: #f8f9fa;
            --theme-text: #212529;
            --theme-border: #dee2e6;
            --theme-primary: #0d6efd;
            
            /* Section styling variables */
            --section-bg: var(--theme-bg-surface);
            --section-border: var(--theme-border);
            --section-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        body {
            background-color: var(--theme-bg-body);
            color: var(--theme-text);
            padding: 2rem;
        }

        .test-surface {
            background: var(--section-bg);
            border: 1px solid var(--section-border);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: var(--section-shadow);
            border-left: 4px solid var(--theme-primary);
        }

        .test-card {
            background: var(--theme-bg-card);
            border: 1px solid var(--theme-border);
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .color-picker {
            margin: 0.5rem;
        }

        .current-colors {
            font-family: monospace;
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 0.25rem;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <h1>ðŸ§ª Surface Background Color Test</h1>
    
    <div class="current-colors">
        <strong>Current CSS Variables:</strong><br>
        --theme-bg-body: <span id="bg-body-value"></span><br>
        --theme-bg-card: <span id="bg-card-value"></span><br>
        --theme-bg-surface: <span id="bg-surface-value"></span><br>
        --section-bg: <span id="section-bg-value"></span><br>
        --theme-text: <span id="text-value"></span><br>
        --theme-border: <span id="border-value"></span>
    </div>

    <div class="row mb-4">
        <div class="col-md-4">
            <label class="form-label">Body Background</label>
            <input type="color" class="form-control color-picker" id="body-bg" value="#ffffff">
        </div>
        <div class="col-md-4">
            <label class="form-label">Card Background</label>
            <input type="color" class="form-control color-picker" id="card-bg" value="#ffffff">
        </div>
        <div class="col-md-4">
            <label class="form-label">Surface Background</label>
            <input type="color" class="form-control color-picker" id="surface-bg" value="#f8f9fa">
        </div>
    </div>

    <div class="test-surface">
        <h4>ðŸŽ¯ Surface Background Test (theme-section equivalent)</h4>
        <p>This uses <code>var(--section-bg)</code> which should fall back to <code>var(--theme-bg-surface)</code></p>
        <p>If the surface color picker works, this background should change.</p>
        
        <div class="test-card">
            <h5>Card Background Test</h5>
            <p>This uses <code>var(--theme-bg-card)</code></p>
        </div>
        
        <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Table Test</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Row 1</td>
                        <td><span class="badge bg-primary">Active</span></td>
                    </tr>
                    <tr>
                        <td>Row 2</td>
                        <td><span class="badge bg-success">Complete</span></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="test-surface">
        <h4>ðŸ”§ Form Elements Test</h4>
        <div class="row">
            <div class="col-md-6">
                <label class="form-label">Text Input</label>
                <input type="text" class="form-control" value="Test input">
            </div>
            <div class="col-md-6">
                <label class="form-label">Select</label>
                <select class="form-select">
                    <option>Option 1</option>
                    <option selected>Selected Option</option>
                </select>
            </div>
        </div>
    </div>

    <div class="test-surface">
        <h4>ðŸ“Š Bootstrap Components Test</h4>
        <div class="mb-3">
            <button class="btn btn-primary me-2">Primary</button>
            <button class="btn btn-secondary me-2">Secondary</button>
            <button class="btn btn-success me-2">Success</button>
        </div>
        
        <div class="alert alert-primary">
            Primary alert - should use theme colors
        </div>
        
        <div class="alert alert-success">
            Success alert - should use theme colors
        </div>
    </div>

    <script>
        function updateVariableDisplays() {
            const vars = ['bg-body', 'bg-card', 'bg-surface', 'section-bg', 'text', 'border'];
            vars.forEach(varName => {
                const value = getComputedStyle(document.documentElement)
                    .getPropertyValue(`--theme-${varName}`).trim() || 
                    getComputedStyle(document.documentElement)
                    .getPropertyValue(`--section-${varName}`).trim();
                
                const element = document.getElementById(`${varName.replace('-', '-')}-value`);
                if (element) {
                    element.textContent = value || 'not set';
                }
            });
        }

        document.getElementById('body-bg').addEventListener('change', (e) => {
            document.documentElement.style.setProperty('--theme-bg-body', e.target.value);
            updateVariableDisplays();
        });

        document.getElementById('card-bg').addEventListener('change', (e) => {
            document.documentElement.style.setProperty('--theme-bg-card', e.target.value);
            updateVariableDisplays();
        });

        document.getElementById('surface-bg').addEventListener('change', (e) => {
            console.log('Setting surface background to:', e.target.value);
            document.documentElement.style.setProperty('--theme-bg-surface', e.target.value);
            document.documentElement.style.setProperty('--section-bg', e.target.value);
            updateVariableDisplays();
        });

        // Initialize display
        updateVariableDisplays();
        
        // Log current styles
        console.log('Initial surface bg:', getComputedStyle(document.documentElement).getPropertyValue('--theme-bg-surface'));
        console.log('Initial section bg:', getComputedStyle(document.documentElement).getPropertyValue('--section-bg'));
    </script>
</body>
</html>
