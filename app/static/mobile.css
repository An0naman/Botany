/* Ultra-Compact Mobile Design for Phones */

/* Apply to ALL elements on mobile */
@media (max-width: 768px) {
    /* Universal font size reduction */
    * {
        font-size: 12px !important;
        line-height: 1.3 !important;
    }
    
    /* Slightly bigger but still compact base font */
    body {
        font-size: 12px !important;
        line-height: 1.3 !important;
    }
    
    /* Compact headings - but make entry titles larger */
    h1, h1 * { font-size: 1.3rem !important; margin-bottom: 0.4rem !important; }
    h2, h2 * { font-size: 1.2rem !important; margin-bottom: 0.3rem !important; }
    h3, h3 * { font-size: 1.1rem !important; margin-bottom: 0.25rem !important; }
    h4, h4 * { font-size: 1.05rem !important; margin-bottom: 0.2rem !important; }
    h5, h5 * { font-size: 1rem !important; margin-bottom: 0.15rem !important; }
    h6, h6 * { font-size: 0.95rem !important; margin-bottom: 0.15rem !important; }
    
    /* Specific entry title styling */
    .entry-title, .card-title, .modal-title {
        font-size: 1.4rem !important;
        font-weight: 600 !important;
        margin-bottom: 0.5rem !important;
    }
    
    /* Make entry detail page title extra large */
    #entryTitle {
        font-size: 1.6rem !important;
        font-weight: 700 !important;
        line-height: 1.2 !important;
        margin-bottom: 0.6rem !important;
    }
    
    /* Reduced padding for ALL containers */
    .container, .container-fluid, .container-sm, .container-md, .container-lg, .container-xl {
        padding: 6px !important;
        margin: 3px auto !important;
        max-width: 100% !important;
    }
    
    /* Reduce padding for ALL elements with padding */
    div, section, article, aside, header, footer, main, nav {
        padding: 4px !important;
    }
    
    /* Compact cards and panels */
    .card, .panel, .well {
        margin-bottom: 4px !important;
        border-radius: 4px !important;
        padding: 4px !important;
    }
    
    .card-body, .card-content, .panel-body {
        padding: 6px !important;
    }
    
    .card-header, .card-title, .panel-header {
        padding: 3px 6px !important;
        font-size: 11px !important;
        font-weight: 600;
    }
    
    .card-footer, .panel-footer {
        padding: 3px 6px !important;
    }
    
    /* Compact buttons - ALL button types */
    .btn, button, input[type="button"], input[type="submit"], input[type="reset"] {
        min-height: 32px !important;
        padding: 4px 8px !important;
        font-size: 11px !important;
        margin: 2px !important;
        border-radius: 4px !important;
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
        vertical-align: middle !important;
        line-height: 1.2 !important;
    }
    
    .btn i, button i {
        vertical-align: middle !important;
        line-height: 1 !important;
    }
    
    .btn-sm, .btn-small {
        min-height: 28px !important;
        padding: 2px 6px !important;
        font-size: 10px !important;
    }
    
    .btn-lg, .btn-large {
        min-height: 36px !important;
        padding: 6px 10px !important;
        font-size: 12px !important;
    }
    
    /* Force button groups to be inline on mobile */
    .btn-group, .button-group {
        display: flex !important;
        flex-direction: row !important;
        flex-wrap: wrap !important;
        gap: 2px !important;
    }
    
    .btn-group .btn, .button-group .btn {
        flex: 1 1 auto !important;
        margin: 1px !important;
        min-width: 0 !important;
    }
    
    /* Related records buttons inline */
    .related-buttons, .grid-header-buttons, .card-header .d-flex {
        display: flex !important;
        flex-direction: row !important;
        flex-wrap: wrap !important;
        gap: 3px !important;
        justify-content: flex-start !important;
    }
    
    .related-buttons .btn, .grid-header-buttons .btn, .card-header .btn {
        flex: 0 1 auto !important;
        margin: 1px !important;
        white-space: nowrap !important;
    }
    
    /* Ensure card headers are responsive */
    .card-header {
        flex-wrap: wrap !important;
        gap: 4px !important;
    }
    
    .card-header h5 {
        flex: 1 1 auto !important;
        margin-bottom: 0 !important;
    }
    
    /* Top entry actions - keep inline on mobile */
    .entry-actions {
        display: flex !important;
        flex-direction: row !important;
        flex-wrap: wrap !important;
        gap: 3px !important;
        justify-content: flex-start !important;
        width: 100% !important;
    }
    
    .entry-actions .btn {
        flex: 0 1 auto !important;
        margin: 1px !important;
        padding: 3px 6px !important;
        font-size: 10px !important;
        min-height: 28px !important;
        white-space: nowrap !important;
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
    }
    
    /* Make entry header responsive */
    .d-flex.flex-column.flex-md-row {
        flex-direction: column !important;
        align-items: stretch !important;
        gap: 8px !important;
    }
    
    /* Reduce ALL list padding */
    ul, ol, li {
        padding: 2px !important;
        margin: 2px 0 !important;
    }
    
    /* Reduce table cell padding */
    table, tr, td, th {
        padding: 2px 4px !important;
        font-size: 10px !important;
    }
    
    /* Compact button groups */
    .btn-group {
        flex-wrap: wrap;
        gap: 1px;
    }
    
    .btn-group .btn {
        margin-bottom: 1px;
        flex: 1 1 auto;
        min-width: 0;
    }
    
    /* Compact forms - ALL form elements */
    .form-control, .form-select, input, textarea, select {
        min-height: 32px !important;
        font-size: 11px !important;
        padding: 4px 6px !important;
        border-radius: 4px !important;
        margin: 2px 0 !important;
    }
    
    /* Auto-resizing textarea */
    textarea.form-control {
        min-height: 60px !important;
        font-size: 12px !important;
        resize: vertical !important;
        overflow-y: hidden !important;
        transition: height 0.1s ease !important;
    }
    
    /* Note compose box specific */
    #noteDescription, #note_description, .note-compose, #editNoteContentTextarea {
        min-height: 80px !important;
        resize: vertical !important;
        overflow-y: hidden !important;
        font-family: inherit !important;
    }
    
    .form-label, label {
        font-size: 10px !important;
        margin-bottom: 2px !important;
        font-weight: 600;
    }
    
    .input-group, .form-group {
        margin-bottom: 4px !important;
    }
    
    .input-group .form-control {
        border-radius: 4px !important;
    }
    
    .input-group-text {
        padding: 4px 6px !important;
        font-size: 10px !important;
    }
    
    /* Reduce spacing for ALL Bootstrap spacing classes */
    .p-0 { padding: 0 !important; }
    .p-1 { padding: 2px !important; }
    .p-2 { padding: 4px !important; }
    .p-3 { padding: 6px !important; }
    .p-4 { padding: 8px !important; }
    .p-5 { padding: 10px !important; }
    
    .m-0 { margin: 0 !important; }
    .m-1 { margin: 2px !important; }
    .m-2 { margin: 4px !important; }
    .m-3 { margin: 6px !important; }
    .m-4 { margin: 8px !important; }
    .m-5 { margin: 10px !important; }
    
    /* Compact ALL margin/padding utilities */
    .mb-1, .my-1, .m-1 { margin-bottom: 2px !important; }
    .mb-2, .my-2, .m-2 { margin-bottom: 4px !important; }
    .mb-3, .my-3, .m-3 { margin-bottom: 6px !important; }
    .mb-4, .my-4, .m-4 { margin-bottom: 8px !important; }
    .mb-5, .my-5, .m-5 { margin-bottom: 10px !important; }
    
    .mt-1, .my-1 { margin-top: 2px !important; }
    .mt-2, .my-2 { margin-top: 4px !important; }
    .mt-3, .my-3 { margin-top: 6px !important; }
    .mt-4, .my-4 { margin-top: 8px !important; }
    .mt-5, .my-5 { margin-top: 10px !important; }
    
    /* Tiny modals */
    .modal-dialog {
        margin: 4px !important;
        max-width: calc(100% - 8px) !important;
    }
    
    .modal-content {
        border-radius: 4px !important;
    }
    
    .modal-header {
        padding: 4px 6px !important;
        border-bottom: 1px solid var(--bs-border-color);
    }
    
    .modal-body {
        padding: 6px !important;
        font-size: 9px !important;
    }
    
    .modal-footer {
        padding: 4px 6px !important;
        gap: 2px;
    }
    
    .modal-title {
        font-size: 10px !important;
        font-weight: 600;
    }
    
    /* Tiny tables */
    .table th, .table td {
        padding: 1px 2px !important;
        font-size: 7px !important;
        line-height: 1.1;
    }
    
    .table-responsive {
        border-radius: 3px !important;
        font-size: 7px !important;
    }
    
    /* Compact navigation */
    .navbar {
        padding: 2px 4px !important;
        min-height: 32px;
    }
    
    .navbar-brand {
        font-size: 10px !important;
        font-weight: 600;
    }
    
    .nav-link {
        padding: 2px 4px !important;
        font-size: 8px !important;
    }
    
    /* Force single column layout */
    .row {
        margin: 0 !important;
    }
    
    .col, .col-md-6, .col-lg-6, .col-xl-6,
    .col-md-4, .col-lg-4, .col-xl-4,
    .col-md-3, .col-lg-3, .col-xl-3,
    .col-md-8, .col-lg-8, .col-xl-8,
    .col-md-9, .col-lg-9, .col-xl-9 {
        padding: 1px !important;
        margin-bottom: 2px;
        flex: 0 0 100% !important;
        max-width: 100% !important;
    }
    
    /* Minimal spacing */
    .mb-3 { margin-bottom: 4px !important; }
    .mb-2 { margin-bottom: 2px !important; }
    .mb-1 { margin-bottom: 1px !important; }
    .mt-3 { margin-top: 4px !important; }
    .mt-2 { margin-top: 2px !important; }
    .mt-1 { margin-top: 1px !important; }
    
    .p-3 { padding: 4px !important; }
    .p-2 { padding: 2px !important; }
    .p-1 { padding: 1px !important; }
    
    /* Tiny alerts */
    .alert {
        padding: 4px 6px !important;
        margin-bottom: 4px !important;
        font-size: 8px !important;
        border-radius: 3px !important;
    }
    
    /* Micro badges */
    .badge {
        font-size: 6px !important;
        padding: 1px 2px !important;
    }
    
    /* Tiny progress bars */
    .progress {
        height: 8px !important;
        border-radius: 2px !important;
    }
    
    /* Small dropdowns */
    .dropdown-menu {
        font-size: 8px !important;
        border-radius: 3px !important;
    }
    
    .dropdown-item {
        padding: 2px 6px !important;
    }
    
    /* Compact list groups */
    .list-group-item {
        padding: 2px 4px !important;
        font-size: 8px !important;
    }
    
    /* Small textarea */
    textarea.form-control {
        min-height: 40px !important;
        font-size: 9px !important;
    }
    
    /* App-specific optimizations */
    .sensor-card {
        padding: 2px !important;
        margin: 1px 0 !important;
    }
    
    .sql-editor {
        font-size: 8px !important;
    }
    
    .sql-results {
        font-size: 7px !important;
    }
    
    .entry-content {
        font-size: 9px !important;
        line-height: 1.2;
    }
    
    .device-item {
        padding: 2px !important;
        font-size: 8px !important;
    }
    
    .settings-section {
        margin-bottom: 6px !important;
    }
    
    .form-check {
        margin-bottom: 2px !important;
    }
    
    .form-check-input {
        margin-top: 1px !important;
    }
    
    .form-check-label {
        font-size: 8px !important;
    }
}

/* Even more compact for small phones */
@media (max-width: 400px) {
    * {
        font-size: 10px !important;
    }
    
    body {
        font-size: 10px !important;
    }
    
    .btn, button {
        padding: 2px 4px !important;
        font-size: 9px !important;
        min-height: 26px !important;
    }
    
    .form-control, .form-select, input, textarea, select {
        font-size: 9px !important;
        min-height: 26px !important;
        padding: 2px 4px !important;
    }
    
    .modal-body {
        padding: 4px !important;
        font-size: 9px !important;
    }
    
    table, tr, td, th {
        padding: 1px 2px !important;
        font-size: 8px !important;
    }
    
    h1, h1 * { font-size: 1rem !important; }
    h2, h2 * { font-size: 0.95rem !important; }
    h3, h3 * { font-size: 0.9rem !important; }
    
    /* Even more padding reduction */
    div, section, article, aside, header, footer, main, nav {
        padding: 2px !important;
    }
    
    .container, .container-fluid {
        padding: 4px !important;
    }
}

/* Index page specific mobile improvements */
@media (max-width: 768px) {
    /* App title - make it prominent on mobile */
    .h1 {
        font-size: 1.5rem !important;
    }
    
    /* Entry titles in results - make them more readable */
    .entry-title h5 {
        font-size: 1.25rem !important;
        line-height: 1.3 !important;
    }
    
    /* Add new button - ensure proper sizing */
    #showAddEntryFormBtn, #showAddEntryFormBtn2 {
        font-size: 0.9rem !important;
        padding: 0.5rem 1rem !important;
    }
    
    /* Settings button - ensure right alignment on mobile */
    .d-flex.justify-content-between .btn[title="Settings"] {
        margin-left: auto !important;
    }
}

@media (max-width: 400px) {
    /* Extra small screens - more compact but still readable */
    .h1 {
        font-size: 1.3rem !important;
    }
    
    .entry-title h5 {
        font-size: 1.1rem !important;
    }
}
